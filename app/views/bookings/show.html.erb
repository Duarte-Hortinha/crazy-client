<div class="content-container">
  <div class="d-flex justify-content-center container fixed-width-600">
  <div class="form-card" id="bookingsshowcont">
    <div data-client-list-target="list">
      <% progress_color = @client.ccr >= @restaurant.ccr_acceptance ? "#2DC653" : "#E53D31" %>
      <% progress_fill = @client.ccr >= @restaurant.ccr_acceptance ? "#B7EFC5" : "#F6BBB7" %>
      <script src="https://cdn.jsdelivr.net/npm/js-circle-progress/dist/circle-progress.min.js" type="module"></script>
      <style>
        circle-progress::part(circle) {
          fill: var(--value-fill-color);
          stroke: white;
          stroke-width: 15px;
        }

        circle-progress::part(text) {
          fill: var(--value-stroke-color);;
          font-size: 28px;
          font-family: 'Poppins';
          font-weight: 600;
        }

        circle-progress[style]::part(value) {
          stroke: var(--value-stroke-color);
          stroke-width: 7px;
        }
      </style>

      <div class="card-category-index d-flex p-2 bg-white mt-4" id="clientshowclient">
        <%# <div class="card-category-index col-12 col-md-10 col-lg-8  d-flex flex-row justify-content-between p-2 bg-white"> %>

          <div class="flex-item m-4">
            <circle-progress value="<%= @client.ccr %>" max="5.0" text-format="value" style="--value-stroke-color: <%= progress_color %>; --value-fill-color: <%= progress_fill %>;"></circle-progress>
          </div>

          <div class="d-flex flex-column align-items-center justify-content-center flex-item flex-grow-1 m-3">
            <div class="d-flex align-items-center justify-content-center mb-1">
              <h3><i class="fa-solid fa-user"></i>  <%= @client.first_name %> <%= @client.last_name %></h3>
            </div>
            <div>
              <p><i class="fa-solid fa-phone"></i> <%= @client.phone_number %></p>
            </div>
            <br>
            <div>
              <p><i class="fa-solid fa-clock"></i> <%= @booking.booking_start.strftime('%I:%M') %> | <%= @booking.booking_start.strftime('%b, %d') %></p>
            </div>

          </div>

          <div class="flex-item ">
            <div class="align-items-end">
              <%#= link_to "Book now", new_client_booking_path(@client), class: "btn btn-outline-primary rounded-3" %>
            <div class="col"> <p><%= link_to "Client Details", client_path(@booking.client), class:"btn btn-primary w-100" %></p> </div>


          </div>
          </div>
        </div>
      </div>

      <div id="bookings-card-detail" class="form-card d-flex flex-column justify-content-center p-2 reviews-main-card">
        <h3 class="d-flex justify-content-center p-2 mb-3">Booking Details</h3>
          <div class="gep-top row align-items-center d-flex justify-content-between p-2">
          <div class="col h4 text-center">
            <p> <i class="fa-solid fa-user-group"></i> <%= @booking.party_count %></p></p>
            </div>
          <div class="col h4 text-center">
            <p> <i class="fa-solid fa-chair"></i> <%= rand(20..60) %></p>
          </div>
        <div class="p-2 mt-2 bg-light text-center">
            <h4 class="pt-2">Comment:</h4>
        </div>
          <div class="bg-light">
            <p><%= @booking.comment %></p>
          </div>
            <div class="mt-5 d-flex justify-content-around flex-nowrap p-2">
              <div class="order-1 mt-2"> <p><%= link_to "Update Booking", edit_booking_path(@booking), class:"btn btn-info" %></p> </div>
              <div class="order-2 mt-2"> <p><%= link_to "Delete Booking", booking_path(@booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: 'btn btn-danger' %></p> </div>
            </div>
        </div>

      </div>
  </div>
  </div>
</div>
